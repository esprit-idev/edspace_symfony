{% extends 'frontOffice.html.twig' %}

{% block title %}
    <title>Forum</title>
{% endblock %}

    {% block css %}
        <!-- bootstrap core css -->
        <link rel="stylesheet" type="text/css" href="{{ asset('frontOffice/css/bootstrap.css') }}" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <!-- fonts style -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,600,700&display=swap" rel="stylesheet" />
        <!-- Custom styles for this template -->
        <link href="{{ asset('frontOffice/css/style.css') }}" rel="stylesheet" />
        <!-- responsive style -->
        <link href="{{ asset('frontOffice/css/responsive.css') }}" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/v4-shims.min.js" integrity="sha512-7qQljqOcfujtn+H4jLGbhDviLED/sMZ+gnJeExpfXKLQMzuOT0/3mGaqUgbqjAPrMsDMZ/6uVNqtXuallND7WQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
        <script src="https://kit.fontawesome.com/ffcbf2bd8b.js" crossorigin="anonymous"></script>

    {% endblock %}

    {% block forum_item %}
        <li class="nav-item active">
            <a class="nav-link" href="/thread">Forum</a>
        </li>
    {% endblock %}



    {% block slider %}
        <div>
            <h3><footer class="blockquote-footer text-right"> <cite title="Source Title">What are you seeking today ?</cite></footer></h3>
        </div>
        <section class=" slider_section position-relative">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="detail-box">
                                        <div>
                                            <h1>
                                                Forum
                                            </h1>
                                            <small>
                                                <footer class="footer text"> <cite title="Source Title">Your safe place to ask for anything you want with a vaste community</cite></footer>
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item ">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="detail-box">
                                        <div>
                                            <h1>
                                                Threads
                                            </h1>
                                            <small>
                                                <footer class="footer text"> <cite title="Source Title">Ask in the thread section and wait for the response</cite></footer>
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item ">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="detail-box">
                                        <div>
                                            <h1>
                                                Comments
                                            </h1>
                                            <small>
                                                <footer class="footer text"> <cite title="Source Title">If you think you can be of use to other people help solving problems</cite></footer>
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    {% endblock %}

{% block custom %}
    {% if  is_granted ('ROLE_STUDENT') %}
    {% include "conversation.html.twig" %}
    {% endif %} 
    <div class="container bootdey">
        <div class="col-md-12 bootstrap snippets">
            <div class="panel">
                <div class="panel-body">

                    <div class="mar-top clearfix">
                        <div class="row" style="padding-left : 150px">
                            {% if thread.verified == 0%}
                                <form action="{{ path('reponse_new', {'id': thread.id}) }}" method ="post" novalidate='novalidate' style="width : 450px">
                                    {{form_start(form,{'attr': {'novalidate': 'novalidate'}})}}
                                    {{ form_widget(form) }}
                                    {{ form_errors(form) }}
                                    <button class="btn btn-outline-dark" style="margin-left : 380px" type="submit">{{ button_label|default('Save') }}</button>
                                    {{ form_end(form) }}
                                </form>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel">
                <div class="panel-body">
                    <!-- Newsfeed Content -->
                    <!--===================================================-->
                    <div class="media-block">
                        <a class="media-left" href="#"><img class="img-circle img-sm" alt="Profile Picture" src="https://bootdey.com/img/Content/avatar/avatar1.png"></a>
                        <div class="media-body">
                            <div class="mar-btm">

                                
                                    {% if thread.verified == 1%}
                                     {{thread.user.prenom}} {{thread.user.username}} 
                                    <a href="#" class="btn text-bold media-heading box-inline">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="green" class="bi bi-patch-check-fill" viewBox="0 0 16 16">
                                        <path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"/>
                                    </svg></a>
                                    <a href ="{{ path('thread_scan', {'question': thread.question}) }}" class="btn text-semibold media-heading box-inline"> Scan </a>
                                    
                                    {% if app.user.id == thread.user.id %}
                                    <a href="{{ path('thread_edit', {'id': thread.id}) }}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                    </svg></a>
                                    {% endif %}
                                {% else %}

                                    {{thread.user.prenom}} {{thread.user.username}}
                                    <a href ="{{ path('thread_scan', {'question': thread.question}) }}" class="btn text-semibold media-heading box-inline"> Scan </a>
                                    {% if app.user.id == thread.user.id %}
                                    <a href="{{ path('thread_edit', {'id': thread.id}) }}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                    </svg></a>
                                    {% endif %}

                                {% endif %}
                                <p class="text-muted text-sm"><i class="fa fa-mobile fa-lg"></i> {{thread.postDate ? thread.postDate|date('H:i:s y-m-d') : ''}}</p>
                            </div>

                            <p>{{thread.question}} </p>


                            <div class="pad-ver">
                                <div class="btn-group">
                                    <a class="btn btn-sm btn-default btn-hover-success" href="#"><i class="fa fa-thumbs-up"></i></a>
                                    <a class="btn btn-sm btn-default btn-hover-danger" href="#"><i class="fa fa-thumbs-down"></i></a>
                                </div>
                                <a class="btn btn-sm btn-default btn-hover-primary" href="#">Comment</a>
                            </div>
                            <hr>

                            <!-- Comments -->
                            {% for thread in reponses %}
                                <div>
                                    <div class="media-block">
                                        <a class="media-left" href="#"><img class="img-circle img-sm" alt="Profile Picture" src="https://bootdey.com/img/Content/avatar/avatar2.png"></a>
                                        <div class="media-body">
                                        
                                            <div class="mar-btm">
                                                <a href="#" class="btn text-semibold media-heading box-inline">{{thread.user.prenom}} {{thread.user.username}}</a>
                                                
                                                <p class="text-muted text-sm"><i class="fa fa-mobile fa-lg"></i> - {{thread.replyDate ? thread.replyDate|date('y-m-d H:i:s ') : ''}}</p>
                                            </div>
                                            <p>{{thread.reply}}</p>
                                            <div class="pad-ver">
                                                <div class="btn-group">
                                                    <a class="btn btn-sm btn-default btn-hover-success active" href="#"><i class="fa fa-thumbs-up"></i> You Like it</a>
                                                    <a class="btn btn-sm btn-default btn-hover-danger" href="#"><i class="fa fa-thumbs-down"></i></a>
                                                </div>
                                                <a class="btn btn-sm btn-default btn-hover-primary" href="#">Comment</a>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <style>
            body{
                margin-top:20px;
                background:#ebeef0;
            }

            .img-sm {
                width: 46px;
                height: 46px;
            }

            .panel {
                box-shadow: 0 2px 0 rgba(0,0,0,0.075);
                border-radius: 0;
                border: 0;
                margin-bottom: 15px;
            }

            .panel .panel-footer, .panel>:last-child {
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
            }

            .panel .panel-heading, .panel>:first-child {
                border-top-left-radius: 0;
                border-top-right-radius: 0;
            }

            .panel-body {
                padding: 25px 20px;
            }


            .media-block .media-left {
                display: block;
                float: left
            }

            .media-block .media-right {
                float: right
            }

            .media-block .media-body {
                display: block;
                overflow: hidden;
                width: auto
            }

            .middle .media-left,
            .middle .media-right,
            .middle .media-body {
                vertical-align: middle
            }

            .thumbnail {
                border-radius: 0;
                border-color: #e9e9e9
            }

            .tag.tag-sm, .btn-group-sm>.tag {
                padding: 5px 10px;
            }

            .tag:not(.label) {
                background-color: #fff;
                padding: 6px 12px;
                border-radius: 2px;
                border: 1px solid #cdd6e1;
                font-size: 12px;
                line-height: 1.42857;
                vertical-align: middle;
                -webkit-transition: all .15s;
                transition: all .15s;
            }
            .text-muted, a.text-muted:hover, a.text-muted:focus {
                color: #acacac;
            }
            .text-sm {
                font-size: 0.9em;
            }
            .text-5x, .text-4x, .text-5x, .text-2x, .text-lg, .text-sm, .text-xs {
                line-height: 1.25;
            }

            .btn-trans {
                background-color: transparent;
                border-color: transparent;
                color: #929292;
            }

            .btn-icon {
                padding-left: 9px;
                padding-right: 9px;
            }

            .btn-sm, .btn-group-sm>.btn, .btn-icon.btn-sm {
                padding: 5px 10px !important;
            }

            .mar-top {
                margin-top: 15px;
            }

        </style>
    </div>
{% endblock %}
{% block special %}
{% endblock %}
{% block about %}
{% endblock %}
{% block course %}
{% endblock %}
{% block login %}
{% endblock %}
{% block event %}
{% endblock %}
{% block client %}
{% endblock %}
{% block contact %}
{% endblock %}
