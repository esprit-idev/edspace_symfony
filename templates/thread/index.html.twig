{% extends 'frontOffice.html.twig' %}

{% block title %}
    <title>Forum</title>
{% endblock %}
{% block javascripts %}
{% endblock %}

    {% block css %}

        <!-- bootstrap core css -->
        <link rel="stylesheet" type="text/css" href="{{ asset('frontOffice/css/bootstrap.css') }}" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <!-- fonts style -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,600,700&display=swap" rel="stylesheet" />
        <!-- Custom styles for this template -->
        <link href="{{ asset('frontOffice/css/style.css') }}" rel="stylesheet" />
        <!-- responsive style -->
        <link href="{{ asset('frontOffice/css/responsive.css') }}" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/v4-shims.min.js" integrity="sha512-7qQljqOcfujtn+H4jLGbhDviLED/sMZ+gnJeExpfXKLQMzuOT0/3mGaqUgbqjAPrMsDMZ/6uVNqtXuallND7WQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
    {% endblock %}

{% block forum_item %}

    <li class="nav-item active">
        <a class="nav-link" href="/thread">Forum</a>
    </li>
{% endblock %}
{% block slider %}
    <div>
        <h3><footer class="blockquote-footer text-right"> <cite title="Source Title">What are you seeking today ?</cite></footer></h3>
    </div>
    <section class=" slider_section position-relative">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <div class="detail-box">
                                    <div>
                                        <h1>
                                            Forum
                                        </h1>
                                        <small>
                                            <footer class="footer text"> <cite title="Source Title">Your safe place to ask for anything you want with a vaste community</cite></footer>
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item ">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <div class="detail-box">
                                    <div>
                                        <h1>
                                            Threads
                                        </h1>
                                        <small>
                                            <footer class="footer text"> <cite title="Source Title">Ask in the thread section and wait for the response</cite></footer>
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item ">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <div class="detail-box">
                                    <div>
                                        <h1>
                                            Comments
                                        </h1>
                                        <small>
                                            <footer class="footer text"> <cite title="Source Title">If you think you can be of use to other people help solving problems</cite></footer>
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block custom %}
    {% if app.user.roles == "[\"ROLE_STUDENT\"]" %}
    {% include "conversation.html.twig" %}
    {% endif %}
    <div class="container-fluid " style="background-color : #f2f2f2">
        <div class="container-fluid">



        </div>
        <br>
        <div class="input-group" style="padding-left : 150px">

            {{ render(controller('App\\Controller\\SearchController::searchBar')) }}
        </div>
        <br>



        <div class="container" style="margin-left : 70px;">
            <div class="row">
                <!-- Main content -->
                <div class="col-lg-9 mb-3">
                    <div class="row text-left mb-5">
                        <div class="col-lg-6 mb-3 mb-sm-0">

                        </div>
                        <div class="col-lg-6 text-lg-right">

                        </div>
                    </div>

                    <!-- End of post 20 -->
                    {% for thread in threads %}
                        <div class="card row-hover pos-relative py-3 px-3 mb-3 border-primary border-top-0 border-right-0 border-bottom-0 rounded-0">
                            <div class="row align-items-center">
                                <div class="col-md-8 mb-3 mb-sm-0">
                                    <h5>
                                        {% if thread.verified ==0 %}
                                            <td><h3><a href="{{ path('thread_show', {'id': thread.id})}}">{{ thread.question }} </a><small>[UNSOLVED]</small></h3><small class="text col-xs-12 blockquote-footer text-right">{{ thread.postDate ? thread.postDate|date('Y-m-d H:i:s') : '' }}</small></td>
                                        {% else %}
                                            <td><h3><a href="{{ path('thread_show', {'id': thread.id})}}">{{ thread.question }} <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="green" class="bi bi-patch-check-fill" viewBox="0 0 16 16">
                                                            <path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"/>
                                                        </svg></a></h3><small class="text col-xs-12 blockquote-footer text-right">{{ thread.postDate ? thread.postDate|date('Y-m-d H:i:s') : '' }}</small></td>
                                        {% endif %}




                                    </h5>
                                    <p class="text-sm"><span class="op-6">Posted</span> <a class="text-black" href="#">{{thread.postDate ? thread.postDate|date('Y-m-d H:i:s') : ''}}</a> <span class="op-6"> by</span> <a class="text-black" href="#">{{thread.user.username }} {{thread.user.prenom}}</a></p>

                                </div>
                                <div class="col-md-4 op-7">
                                    <div class="row text-center op-7">
                                        <div class="text-sm op-5" style="margin-left:100px;margin-top:113px"> <a class="text-black mr-2" href="#">#{{thread.threadtype}}</a> </div>
                                        <div class="col px-1" style="margin-top:90px"> <i class="ion-ios-chatboxes-outline icon-1x" ></i> <span class="d-block text-sm">{{thread.reponses|length}} Replys</span> </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /End of post 20 -->
                    {% else %}
                        <tr>
                            <td colspan="3"> <div class="error-details card row-hover pos-relative py-3 px-3 mb-1 border-danger border-top-0 border-right-0 border-bottom-0 rounded-1">
                                    Sorry, no threads found
                                </div></td>
                        </tr>
                    {% endfor %}

                </div>
                <!-- Sidebar content -->

                <div class="col-lg-3 mb-3 mb-lg-10 px-lg-0 mt-lg-10">
                    <div style="visibility: hidden; display: none; width: 285px; height: 801px; margin: 0px; float: none; position: static; inset: 85px auto auto;"></div><div data-settings="{&quot;parent&quot;:&quot;#content&quot;,&quot;mind&quot;:&quot;#header&quot;,&quot;top&quot;:10,&quot;breakpoint&quot;:992}" data-toggle="sticky" class="sticky" style="top: 85px;"><div class="sticky-inner">
                            <a class="btn btn-lg btn-block btn-success rounded-0 py-4 mb-3 bg-op-6 roboto-bold" href="{{ path('thread_new') }}">Ask Question</a>
                            <a class="btn btn-lg btn-block btn-success rounded-0 py-4 mb-3 bg-op-6 roboto-bold" href="{{ path('thread_mine',{'id': app.user.id}) }}">My Threads</a>
                            <div class="bg-white mb-3">
                                <h4 class="px-3 py-4 op-5 m-0">
                                    Active Topics
                                </h4>
                                <hr class="m-0">



                                <hr class="m-0">
                                <div class="pos-relative px-3 py-3">
                                    <h6 class="text-primary text-sm">

                                        {% for thread in threadType %}
                                            <a href="{{ path('threadtype_search', {'id': thread.id})}}" class="text-primary">
                                                # {{thread.content}} </a><br>
                                        {% endfor  %}
                                    </h6>

                                </div>
                                <hr class="m-0">
                            </div>
                            <div class="bg-white text-sm">
                                <h4 class="px-3 py-4 op-5 m-0 roboto-bold">
                                    Stats
                                </h4>
                                <hr class="my-0">
                                <div class="row text-center d-flex flex-row op-7 mx-0">
                                    <div class="col-sm-6 flex-ew text-center py-3 border-bottom border-right"> <a class="d-block lead font-weight-bold" href="#">{{threadType|length}}</a> Topics </div>
                                    <div class="col-sm-6 col flex-ew text-center py-3 border-bottom mx-0"> <a class="d-block lead font-weight-bold" href="#">{{threads|length}}</a> Posts </div>
                                </div>

                            </div>

                        </div></div>
                </div>
            </div>

        </div>

    </div>

    <script type="text/javascript" src="{{ asset('frontOffice/js/jquery-3.4.1.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('frontOffice/js/bootstrap.js') }}"></script>

    </div>
{% endblock %}
{% block special %}
{% endblock %}
{% block about %}
{% endblock %}
{% block course %}
{% endblock %}
{% block login %}
{% endblock %}
{% block event %}
{% endblock %}
{% block client %}
{% endblock %}
{% block contact %}
{% endblock %}