{% extends 'backOffice.html.twig' %}
{% block title %}<title>Catégories de publication</title>{% endblock %}
{% block leftNavBar %}
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a href="#" class="nav-link">Categories de publication</a>
        </li>
    </ul>
{% endblock %}
{% block searchbar %}
    <li class="nav-item">
        <a class="nav-link" data-widget="navbar-search" href="#" role="button">
            <i class="fas fa-search"></i>
        </a>
        <div class="navbar-search-block">
            <form class="form-inline" method="POST" action="{{ path('SearchCatName') }}">
                <div class="input-group input-group-sm">
                        <input class="form-control form-control-navbar" type="text" placeholder="Search" aria-label="Search" name="catTitle">
                        <div class="input-group-append">
                                <button class="btn btn-navbar" type="submit" value="recherche">
                                    <i class="fas fa-search"></i>
                                </button>
                                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
            </form>
                </div>
            </li>
{% endblock searchbar %}
{% block cards %}
    <div class="content-wrapper">
    <div class="container-fluid">
    <div class="float-right p-4"><a href="{{ path('addCategoryNews')}}" class="btn btn-primary"> Ajouter une Categorie </a></div>
    <table class="table table-bordered table-hover">
        <thead>
            <th>Categorie</th>
            <th>Modifier</th>
            <th>Supprimer</th>
        </thead>
        <tr {% for category in categories %}>
            <td class="col-sm-4">{{category.categoryName}}</td>
            <td class="col-sm-2"><a href="{{ path("updateCategoryNews",{'id':category.id}) }}" class="btn btn-info">Modifier</a></td>
            <td class="col-sm-2"><button class="btn btn-danger" data-toggle="modal" data-target="#exampleModal3{{category.id}}">Supprimer</button></td>
            <div class="modal fade" id="exampleModal3{{category.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-body">
                                    <h5 class="modal-title text-dark" id="exampleModalLabel">Êtes-vous sûr de vouloir supprimer la catégorie?</h5>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Non</button>
                                    <form ACTION="{{ path("deleteCategoryNews",{'id':category.id}) }}">
                                        <button class="btn btn-danger" >Supprimer</button>
                                    </form>                                        </div>
                            </div>
                        </div>
                    </div>
        </tr {% endfor %}>
    </table>
    </div>
    </div>

{% endblock %}